# RoomieSplit (室友记账)

**RoomieSplit** 是一款专为合租/寝室生活设计的现代化协作记账应用。它不仅解决了基础的费用分摊问题，还通过引入 AI 智能录入、债务拓扑简化、群决策支持以及“人品值”家务博弈等创新功能，让集体生活更加和谐、有趣且高效。

## ✨ 核心功能

### 🛠️ 基础服务层 (Foundation Layer)
*   **虚拟寝室 & 成员管理**
    *   支持创建虚拟寝室，邀请室友加入。
    *   支持多账本切换（如：日常开销、旅游专账）。
*   **智能记账引擎**
    *   支持多种分摊模式：完全均分、按权重分摊（如情侣需承担更多）、指定金额。
    *   全字段记录：金额、分类、日期、备注及垫付人。
*   **实时结算中心**
    *   **债务可视化**：清晰展示谁欠谁多少钱。
    *   **一键核销**：支持部分还款或抹零。
*   **智能日历视图**
    *   月视图：通过热力点概览每日消费情况。
    *   周视图：详细查看每周开销趋势。
*   **财务报表**
    *   自定义时间段查询，支持导出 Excel 格式报表。

### 🚀 创新业务层 (Innovation Layer)
*   **🤖 多模态智能录入**
    *   **NLP 语义记账**：输入“昨晚海底捞四人花了300”，自动解析金额、分摊模式与分类。
    *   **OCR 智能扫单**：拍照识别小票，自动提取总金额与日期。
*   **⚖️ 债务拓扑优化**
    *   基于最大流算法简化多人转账环路（如 A->B->C 转化为 A->C），减少转账次数。
*   **🎲 “今天吃什么”群决策**
    *   支持投票或随机模式，结合“金主”权重（垫付最多者权重更高），解决选择困难症。
*   **🔒 防篡改审计**
    *   构建资金哈希链，支持一键校验账本数据完整性，防止数据篡改。
*   **🧹 “因果报应”家务博弈 (Karma Roulette)**
    *   将家务分配游戏化。多干活攒“人品”降低权重，少干活或“金主”有不同权重策略，通过转盘抽奖决定谁干活。

## 🛠️ 技术栈

*   **客户端**: Android (Java/Kotlin)
*   **服务端**: Java (Spring Boot)
*   **数据库**: MySQL / PostgreSQL (推测)
*   **构建工具**: Gradle

## 📦 快速开始

### 前置要求
*   Android Studio
*   JDK 17+ (后端) / JDK 11+ (Android)
*   Android 设备或模拟器

### 运行步骤
1.  **克隆项目**
    ```bash
    git clone https://github.com/129623/RoomieSplit.git
    cd roomie-split
    ```
2.  **启动后端**
    *   进入 `backend` 目录并运行 Spring Boot 应用。
    *   确保数据库配置正确。
3.  **运行客户端**
    *   连接 Android 设备或启动模拟器。
    *   运行 `run_app.ps1` 脚本自动构建并安装应用。
    ```powershell
    .\run_app.ps1
    ```


